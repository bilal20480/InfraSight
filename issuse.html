<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Full Issue Monitoring Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 40px;
        }

        .chart-container, .map-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
        }

        .chart, .map {
            width: 45%;
            min-width: 400px;
            margin: 20px 0;
        }

        .map iframe {
            width: 100%;
            height: 500px;
            border: none;
        }
    </style>
</head>
<body>

<h1>Issue Monitoring Dashboard</h1>

<div class="chart-container">
    <div id="lineChart" class="chart"></div>
    <div id="pieChart" class="chart"></div>
</div>

<h2 style="text-align: center;">Issue Locations Map</h2>
<div class="map-container">
    <div class="map">
        <iframe src="issues_map_india.html"></iframe>
    </div>
</div>

<script>
    // Monthly Issue Reports - Line Chart
    var lineData = [{
        x: ["Jan", "Feb", "Mar", "Apr", "May", "June", "July", "Aug", "Sep", "Oct", "Nov", "Dec"],
        y: [15, 25, 18, 25, 45, 23, 32, 15, 30, 27, 22, 30],
        type: 'scatter',
        mode: 'lines+markers',
        marker: { color: 'blue' },
        name: 'Reports'
    }];

    var lineLayout = {
        title: 'Monthly Issue Reports',
        xaxis: { title: 'Month' },
        yaxis: { title: 'Number of Reports' }
    };

    Plotly.newPlot('lineChart', lineData, lineLayout);

    // Reported Issue Categories - Pie Chart
    var pieData = [{
        values: [35, 25, 20, 15, 5],
        labels: ["Potholes", "Garbage", "Water Supply", "Street Lights", "Other"],
        type: 'pie'
    }];

    var pieLayout = {
        title: 'Reported Issue Categories'
    };

    Plotly.newPlot('pieChart', pieData, pieLayout);
</script>

</body>
</html>